app.factory("DService",function(){function t(t){var a=this;this.totalCount=null,this.isAppend=!0,this.canILoad=!0,this.isbusy=!1,this.loaderText="努力加载中",this.loaderClass="",this.params={},this.builtParams={param:{servicename:t.serviceName,requrl:a.encode(t.url),reqbody:"",iscache:t.iscache||"0"},CBPluginName:t.pluginName,CBTagName:t.actionName}}return t.prototype.buildParams=function(){var t=this.params,a=[];for(var i in t)if(""!=t[i]){if("[object Array]"===Object.prototype.toString.call(t[i])){a.push('"'+i+'":'+JSON.stringify(t[i]));continue}a.push('"'+i+'":"'+t[i]+'"')}this.builtParams.param.reqbody=a.join(",")},t.prototype.getData=function(){if(!this.isbusy&&this.canILoad){if(this.params.page&&this.params.page>this.totalCount&&null!=this.totalCount)return this.loaderClass=" loaderNo",this.loaderText="没有更多内容了哦",this.canILoad=!1,!1;this.canILoad=!0,this.loaderClass="",this.loaderText="努力加载中";var t=this;this.isbusy=!0,window._tc_bridge_util.get_data(t.builtParams)}},t.prototype.encode=function(t){return encodeURIComponent(t)},t});